(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
var T=require("icebrace-runtime"),v,s={0:'\'collaboration--\'+T.e(c,v,\'.\')+\' \'',1:'\' \'+T.e(c,v,\'.\')+\' \'',2:'\'\'+T.c(\'feature-collaboration\', c.c)+\'\''};module.exports=function(c){var c={c:c,p:0};return'<div class="collaboration '+T.e(c,v,'styleModifier')+' '+T.s(s,c,v,'mod', s[0])+' '+T.s(s,c,v,'class_name', s[1])+' "> '+T.s(s,c,v,'collaboration', s[2])+'</div> '}
},{"icebrace-runtime":"icebrace-runtime"}],2:[function(require,module,exports){
"use strict";
var T=require("icebrace-runtime"),v,s={0:'\' \'+T.e(c,v,\'.\')+\' \'',1:'\' style="transform: rotate(\'+T.e(c,v,\'.\')+\')" \''};module.exports=function(c){var c={c:c,p:0};return'<svg class=" c-icon '+T.e(c,v,'styleModifier')+' '+T.s(s,c,v,'class_name', s[0])+' " '+T.s(s,c,v,'rotate', s[1])+' data-type="'+T.e(c,v,'type')+'"><use xlink:href="./svg/'+T.e(c,v,'set')+'.symbol.svg#'+T.e(c,v,'type')+'"></use></svg> '}
},{"icebrace-runtime":"icebrace-runtime"}],3:[function(require,module,exports){
"use strict";
var T=require("icebrace-runtime"),v,s={0:'\' \'+T.e(c,v,\'.\')+\' \'',1:'\' id="\'+T.e(c,v,\'.\')+\'" \'',2:'\' type="\'+T.e(c,v,\'.\')+\'" \'',3:'\' accept="\'+T.e(c,v,\'.\')+\'" \'',4:'\' name="\'+T.e(c,v,\'.\')+\'" \'',5:'\' value="\'+T.e(c,v,\'.\')+\'" \'',6:'\' placeholder="\'+T.e(c,v,\'.\')+\'" \'',7:'\' autocomplete="\'+T.e(c,v,\'.\')+\'" \'',8:'\' min="\'+T.e(c,v,\'.\')+\'" \'',9:'\' max="\'+T.e(c,v,\'.\')+\'" \'',10:'\' minlength="\'+T.e(c,v,\'.\')+\'" \'',11:'\' maxlength="\'+T.e(c,v,\'.\')+\'" \'',12:'\' multiple \'',13:'\' readonly \'',14:'\' checked \'',15:'\' disabled \'',16:'\' required \''};module.exports=function(c){var c={c:c,p:0};return'<input class=" '+T.e(c,v,'styleModifier')+' '+T.s(s,c,v,'class_name', s[0])+' " '+T.s(s,c,v,'id', s[1])+' '+T.s(s,c,v,'type', s[2])+' '+T.s(s,c,v,'accept', s[3])+' '+T.s(s,c,v,'name', s[4])+' '+T.s(s,c,v,'value', s[5])+' '+T.s(s,c,v,'placeholder', s[6])+' '+T.s(s,c,v,'autocomplete', s[7])+' '+T.s(s,c,v,'min', s[8])+' '+T.s(s,c,v,'max', s[9])+' '+T.s(s,c,v,'minlength', s[10])+' '+T.s(s,c,v,'maxlength', s[11])+' '+T.s(s,c,v,'multiple', s[12])+' '+T.s(s,c,v,'readonly', s[13])+' '+T.s(s,c,v,'checked', s[14])+' '+T.s(s,c,v,'disabled', s[15])+' '+T.s(s,c,v,'required', s[16])+' > '}
},{"icebrace-runtime":"icebrace-runtime"}],4:[function(require,module,exports){
"use strict";
var T=require("icebrace-runtime"),v,s={0:'\' \'+T.e(c,v,\'.\')+\' \'',1:'\' for="\'+T.e(c,v,\'.\')+\'" \'',2:'\'\'+T.e(c,v,\'.\')+\'\''};module.exports=function(c){var c={c:c,p:0};return'<label class=" c-label '+T.e(c,v,'styleModifier')+' '+T.s(s,c,v,'class_name', s[0])+' " '+T.s(s,c,v,'for_id', s[1])+' >'+T.s(s,c,v,'text', s[2])+'</label> '}
},{"icebrace-runtime":"icebrace-runtime"}],5:[function(require,module,exports){
"use strict";
var T=require("icebrace-runtime"),v,s={0:'\' c-loader--\'+T.e(c,v,\'.\')+\' \'',1:'\' \'+T.e(c,v,\'.\')+\' \''};module.exports=function(c){var c={c:c,p:0};return'<div class=" c-loader '+T.s(s,c,v,'mod', s[0])+' '+T.s(s,c,v,'class_name', s[1])+' "></div> '}
},{"icebrace-runtime":"icebrace-runtime"}],6:[function(require,module,exports){
"use strict";
var T=require("icebrace-runtime"),v,s={0:'\'\'+T.c(\'basic-icon: c-text__icon\', c.c)+\'\''};module.exports=function(c){var c={c:c,p:0};return'<span class=" c-text '+T.e(c,v,'styleModifier')+' "> '+T.s(s,c,v,'icon', s[0])+' <span class="c-text__text">'+T.e(c,v,'text')+'</span></span> '}
},{"icebrace-runtime":"icebrace-runtime"}],7:[function(require,module,exports){
"use strict";
var T=require("icebrace-runtime"),v,s={0:'\' c-avatar--image \'',1:'\' c-avatar--letter \'',2:'\' \'+T.e(c,v,\'.\')+\' \'',3:'\' c-avatar--\'+T.e(c,v,\'.\')+\' \'',4:'\' style="background-image: url(\\\'\'+T.e(c,v,\'image\')+\'\\\')" \'',5:'\' data-\'+T.e(c,v,\'tag\')+\'="\'+T.e(c,v,\'value\')+\'" \'',6:'\' \'+T.s(s,c,v,\'data\', s[5])+\' \'',7:'\'\'+T.e(c,v,\'letter\')+\'\'',8:'\'\'+T.c(\'basic-icon: c-avatar__edit\', c.c)+\'\''};module.exports=function(c){var c={c:c,p:0};return'<div class=" c-avatar '+T.e(c,v,'styleModifier')+' '+T.s(s,c,v,'image', s[0])+' '+T.i(s,c,v,'image', s[1])+' '+T.s(s,c,v,'class_name', s[2])+' '+T.s(s,c,v,'mod', s[3])+' " '+T.s(s,c,v,'image', s[4])+' '+T.i(s,c,v,'image', s[6])+'> '+T.i(s,c,v,'image', s[7])+' '+T.s(s,c,v,'edit', s[8])+'</div> '}
},{"icebrace-runtime":"icebrace-runtime"}],8:[function(require,module,exports){
"use strict";
var T=require("icebrace-runtime"),v,s={0:'\' c-button--\'+T.e(c,v,\'.\')+\' \'',1:'\' \'+T.e(c,v,\'.\')+\' \'',2:'\' type="button" \'',3:'\' type="\'+T.e(c,v,\'.\')+\'" \'',4:'\' disabled \'',5:'\' form="\'+T.e(c,v,\'.\')+\'" \'',6:'\'\'+T.c(\'basic-icon: c-button__icon c-button__prefix-icon\', c.c)+\'\'',7:'\' <span class="c-button__text">\'+T.e(c,v,\'.\')+\'</span> \'',8:'\'\'+T.c(\'basic-icon: c-button__icon c-button__suffix-icon\', c.c)+\'\''};module.exports=function(c){var c={c:c,p:0};return'<button class=" c-button '+T.e(c,v,'styleModifier')+' '+T.s(s,c,v,'mod', s[0])+' '+T.s(s,c,v,'class_name', s[1])+' " '+T.i(s,c,v,'type', s[2])+' '+T.s(s,c,v,'type', s[3])+' '+T.s(s,c,v,'disabled', s[4])+' '+T.s(s,c,v,'form', s[5])+' '+T.u(c,v,'hook')+' > '+T.s(s,c,v,'prefix_icon', s[6])+' '+T.s(s,c,v,'text', s[7])+' '+T.s(s,c,v,'suffix_icon', s[8])+'</button> '}
},{"icebrace-runtime":"icebrace-runtime"}],9:[function(require,module,exports){
"use strict";
var T=require("icebrace-runtime"),v,s={0:'\'c-icon-document--\'+T.e(c,v,\'.\')+\' \'',1:'\' \'+T.e(c,v,\'.\')+\' \'',2:'\'\'+T.c(\'basic-icon\', c.c)+\'\'',3:'\'\'+T.c(\'component-icon-document\', c.c)+\'\''};module.exports=function(c){var c={c:c,p:0};return'<div class=" c-icon-document '+T.e(c,v,'styleModifier')+' '+T.s(s,c,v,'mod', s[0])+' '+T.s(s,c,v,'class_name', s[1])+' "> '+T.s(s,c,v,'icon', s[2])+''+T.s(s,c,v,'locked', s[3])+'</div> '}
},{"icebrace-runtime":"icebrace-runtime"}],10:[function(require,module,exports){
"use strict";
var T=require("icebrace-runtime"),v,s={0:'\' c-input--\'+T.e(c,v,\'.\')+\' \'',1:'\' \'+T.e(c,v,\'.\')+\' \'',2:'\'\'+T.c(\'basic-label: c-input__label\', c.c)+\'\'',3:'\'\'+T.c(\'component-button: c-input__button\', c.c)+\'\'',4:'\'\'+T.c(\'component-input__wrap\', c.c)+\'\'',5:'\'\'+T.c(\'basic-input: c-input__element\', c.c)+\'\'',6:'\'\'+T.s(s,c,v,\'element\', s[5])+\'\'',7:'\'\'+T.c(\'basic-text: c-input__desc\', c.c)+\'\''};module.exports=function(c){var c={c:c,p:0};return'<div class=" c-input '+T.e(c,v,'styleModifier')+' '+T.s(s,c,v,'mod', s[0])+' '+T.s(s,c,v,'class_name', s[1])+' "> '+T.s(s,c,v,'label', s[2])+''+T.s(s,c,v,'contextual_button', s[3])+''+T.s(s,c,v,'wrap', s[4])+' '+T.i(s,c,v,'wrap', s[6])+' '+T.s(s,c,v,'desc', s[7])+'</div> '}
},{"icebrace-runtime":"icebrace-runtime"}],11:[function(require,module,exports){
"use strict";
var T=require("icebrace-runtime"),v,s={0:'\'c-message-document--\'+T.e(c,v,\'.\')+\' \'',1:'\' \'+T.e(c,v,\'.\')+\' \'',2:'\' <p class="c-message-document__filemsg c-message-document__filemsg--\'+T.e(c,v,\'type\')+\'">\'+T.u(c,v,\'.\')+\'</p> \'',3:'\' <p class="c-message-document__docsmsg">\'+T.e(c,v,\'.\')+\'</p> \''};module.exports=function(c){var c={c:c,p:0};return'<div class="c-message-document '+T.e(c,v,'styleModifier')+' '+T.s(s,c,v,'mod', s[0])+' '+T.s(s,c,v,'class_name', s[1])+'"> '+T.s(s,c,v,'fileinfo', s[2])+''+T.s(s,c,v,'docmsg', s[3])+'</div> '}
},{"icebrace-runtime":"icebrace-runtime"}],12:[function(require,module,exports){
"use strict";
var T=require("icebrace-runtime"),v,s={0:'\'c-feature-collaboration--\'+T.e(c,v,\'.\')+\' \'',1:'\' \'+T.e(c,v,\'.\')+\' \'',2:'\'\'+T.c(\'component-icon-document\', c.c)+\'\'',3:'\'\'+T.c(\'component-message-document\', c.c)+\'\'',4:'\'\'+T.c(\'component-avatar\', c.c)+\'\'',5:'\' <div class="c-feature-collaboration__activity"> \'+T.s(s,c,v,\'avatar\', s[4])+\' <div class="text">\'+T.u(c,v,\'.\')+\'</div></div> \'',6:'\'\'+T.c(\'component-input\', c.c)+\'\'',7:'\'\'+T.c(\'component-button\', c.c)+\'\''};module.exports=function(c){var c={c:c,p:0};return'<div class="c-feature-collaboration '+T.e(c,v,'styleModifier')+' '+T.s(s,c,v,'mod', s[0])+' '+T.s(s,c,v,'class_name', s[1])+' "> '+T.s(s,c,v,'icon', s[2])+''+T.s(s,c,v,'message', s[3])+''+T.s(s,c,v,'activity', s[5])+''+T.s(s,c,v,'input', s[6])+' <div class="c-feature-collaboration__buttons"> '+T.s(s,c,v,'button', s[7])+' </div></div> '}
},{"icebrace-runtime":"icebrace-runtime"}],13:[function(require,module,exports){
"use strict";
var T=require("icebrace-runtime"),v,s={0:'\' <!--[if lte IE 8]><meta http-equiv="refresh" content="0;url=\'+T.e(c,v,\'url\')+\'"><![endif]--> \'',1:'\' <noscript><meta http-equiv="refresh" content="0;url=\'+T.e(c,v,\'url\')+\'"></noscript> \'',2:'\'<meta charset="\'+T.e(c,v,\'charset\')+\'">\'',3:'\'<meta http-equiv="X-UA-Compatible" content="\'+T.e(c,v,\'X-UA-Compatible\')+\'" />\'',4:'\'<meta name="viewport" content="\'+T.e(c,v,\'viewport\')+\'" />\'',5:'\'<meta name="google" value="notranslate" />\'',6:'\'\'+T.e(c,v,\'name\')+\'="\'+T.e(c,v,\'value\')+\'"\'',7:'\' <meta \'+T.s(s,c,v,\'attributes\', s[6])+\'> \'',8:'\'?version=\'+T.e(c,v,\'.\')+\'\'',9:'\' <link type="text/css" href="\'+T.e(c,v,\'.\')+\'\'+T.s(s,c,v,\'version\', s[8])+\'" rel="stylesheet"> \'',10:'\'?version=\'+T.e(c,v,\'.\')+\'\'',11:'\' <script src="\'+T.e(c,v,\'.\')+\'\'+T.s(s,c,v,\'version\', s[10])+\'"></script> \''};module.exports=function(c){var c={c:c,p:0};return'<head><title>'+T.e(c,v,'title')+'</title> '+T.s(s,c,v,'backward-compatibility-redirect', s[0])+''+T.s(s,c,v,'noscript-redirect', s[1])+' '+T.s(s,c,v,'charset', s[2])+' '+T.s(s,c,v,'X-UA-Compatible', s[3])+' '+T.s(s,c,v,'viewport', s[4])+' '+T.s(s,c,v,'google-notranslate', s[5])+' <!-- Turn on IE cleartype --><meta http-equiv="cleartype" content="on"> '+T.s(s,c,v,'custom-meta', s[7])+''+T.s(s,c,v,'css-files', s[9])+''+T.s(s,c,v,'script-files', s[11])+'</head> '}
},{"icebrace-runtime":"icebrace-runtime"}],14:[function(require,module,exports){
"use strict";
var T=require("icebrace-runtime"),v,s={0:'\'\'+T.c(\'meta-head\', c.c)+\'\'',1:'\'.min\'',2:'\'?version=\'+T.e(c,v,\'.\')+\'\'',3:'\'.min\'',4:'\'?version=\'+T.e(c,v,\'.\')+\'\''};module.exports=function(c){var c={c:c,p:0};return'<!DOCTYPE html><html> '+T.s(s,c,v,'head', s[0])+' <body><div id="content"> '+T.c('basic-loader', c.c)+' </div><script src="framework'+T.s(s,c,v,'min', s[1])+'.js'+T.s(s,c,v,'fw_version', s[2])+'"></script><script src="bundle'+T.s(s,c,v,'min', s[3])+'.js'+T.s(s,c,v,'version', s[4])+'"></script></body></html> '}
},{"icebrace-runtime":"icebrace-runtime"}],15:[function(require,module,exports){
"use strict";
require('./middleware/middleware')(
	polyfills,
	require('./middleware/initEnvironment'),
	require('./middleware/loadConfig'),
	require('./middleware/i18n'),
	require('./middleware/setLogLevel'),
	setupApp,
	changeLanguage,
	startApp
);

/**
 * @param {Object} data 
 * @param {Function} next 
 * @returns {undefined}
 */
function polyfills(data, next) {
	require('classlist-polyfill');
	require('svg4everybody')();
	require('es6-object-assign/auto');
	window.Promise = window.Promise || require('promise-polyfill');
	SVGElement.prototype.contains = SVGElement.prototype.contains || HTMLDivElement.prototype.contains;

	Element.prototype.matches = Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;

	Element.prototype.closest = Element.prototype.closest || function (s) {
		var el = this;

		do {
			if (el.matches(s)) {
				return el;
			}
			el = el.parentElement || el.parentNode;
		} while (el !== null && el.nodeType === 1);
		return null;
	};

	Element.prototype.toggleAttribute = Element.prototype.toggleAttribute || function (name, force) {
		if (force !== void 0) {
			force = !!force;
		}
		if (this.hasAttribute(name)) {
			if (force) {
				return true;
			}
			this.removeAttribute(name);
			return false;
		}
		if (force === false) {
			return false;
		}
		this.setAttribute(name, '');
		return true;
	};

	next();
}

/**
 * 
 * @param {Object} data 
 * @param {Function} next 
 * @returns {undefined}
 */
function setupApp(data, next) {
	var BaseModel = require('BaseModel');
	require('./communication-xml.js');

	/**
	 * Call communication command on model
	 * @param {String} command
	 * @param {Object} args
	 * @param {Object} [callback]
	 * @returns {unresolved} response
	 */
	BaseModel.prototype.callCommunication = function (command, args, callback) {
		var context = this;
		if (callback) {
			return this.com[command].call(this, args, callback);
		}
		return new Promise(function (resolve, reject) {
			context.com[command].call(context, args, {
				success: resolve,
				error: reject
			});
		});
	};

	next();
}

/**
 * 
 * @param {Object} data 
 * @param {Function} next 
 * @returns {undefined}
 */
function changeLanguage(data, next) {
	var BaseModel = require('BaseModel');
	var Language = BaseModel.static('Language');
	Language.changeLanguage(Language.getLanguageCode(), {
		success: next,
		error: next
	});
}

/**
 * 
 * @param {Object} data 
 * @param {Function} next 
 * @returns {undefined}
 */
function startApp() {
	var BaseController = require('BaseController');
	var Fragment = require('@icewarp/fragment').instance();

	var application = new(BaseController.static('application-collaboration'))();

	document.title = __('title');
	application.execute().then(function (controller) {
		controller.render(document.getElementById('content'));
	});

	Fragment.on(function () {
		application.rerender();
	});
}

},{"./communication-xml.js":16,"./middleware/i18n":30,"./middleware/initEnvironment":31,"./middleware/loadConfig":32,"./middleware/middleware":33,"./middleware/setLogLevel":34,"@icewarp/fragment":42,"BaseController":"BaseController","BaseModel":"BaseModel","classlist-polyfill":47,"es6-object-assign/auto":48,"promise-polyfill":51,"svg4everybody":52}],16:[function(require,module,exports){
"use strict";
var BaseModel = require('BaseModel');
var TeamChatAPI = BaseModel.static('TeamChatAPI');
TeamChatAPI.prototype.com= new (require('./communication/xml/TeamChatAPI/TeamChatAPIPrototype.js'))();

},{"./communication/xml/TeamChatAPI/TeamChatAPIPrototype.js":17,"BaseModel":"BaseModel"}],17:[function(require,module,exports){
"use strict";
var BaseModel = require('BaseModel');
var Callback = require('Callback');

var apiPath = '/teamchatapi/';
var deviceid = Math.random().toString(36).substr(2, 5);

/**
 * Communication for TeamChatAPI model
 * @class TeamChatAPIPrototype
 */
function TeamChatAPIPrototype() {
	var config = BaseModel.instance('Config').getData('config');
	apiPath = config && config.apiPath || apiPath;
}

TeamChatAPIPrototype.prototype.filesEdit = function (args, callback) {
	var data = {
		ticket: args.ticket,
		deviceid: deviceid,
		participant_name: args.name
	};
	if (args.password) {
		data.password = args.password;
	}
	send('files.edit', data, callback);
};

TeamChatAPIPrototype.prototype.filesStopEdit = function (args, callback) {
	var data = {
		ticket: args.ticket,
		deviceid: deviceid
	};
	send('files.stopedit', data, callback);
};

TeamChatAPIPrototype.prototype.filesStopEditBeacon = function (args) {
	var data = {
		ticket: args.ticket,
		deviceid: deviceid
	};
	(navigator || {}).sendBeacon && navigator.sendBeacon(getURL('files.stopedit', data));
};

TeamChatAPIPrototype.prototype.filesInviteInfo = function (args, callback) {
	var data = {
		ticket: args.ticket
	};
	if (args.password) {
		data.password = args.password;
	}
	send('files.invite.info', data, callback);
};

TeamChatAPIPrototype.prototype.filesDownload = function (args) {
	var a = document.createElement('a');
	a.setAttribute('href', getURL('files.download', args));
	a.setAttribute('target', '_blank');
	a.setAttribute('download', '');
	a.click();
};

TeamChatAPIPrototype.prototype.filesAvatar = function (args) {
	var data = {
		ticket: args.ticket,
		email: args.email
	};
	return getURL('files.avatar', data);
};

/**
 * Send request
 * @param {String} path 
 * @param {Object} data 
 * @param {Callback} callback 
 * @returns {undefined}
 */
function send(path, data, callback) {
	var request = new XMLHttpRequest();
	request.open('POST', getURL(path));

	request.addEventListener('load', function (event) {
		var response;
		try {
			response = JSON.parse(event.target.response);
		} catch (e) {
			response = {
				error: 'parse',
				error_details: e.message
			};
		}
		Callback(response.error ? Callback.ERROR : Callback.SUCCESS, callback, response);
	});
	request.addEventListener('error', function () {
		Callback(Callback.ERROR, callback, arguments);
	});
	request.addEventListener('abort', function () {
		Callback('abort', callback, arguments);
	});
	request.addEventListener('progress', function () {
		Callback('progress', callback, arguments);
	});

	request.send(getQuery(data));
}

/**
 * Return URL to api with encoded data
 * @param {String} path 
 * @param {Object} data 
 * @returns {String}
 */
function getURL(path, data) {
	return apiPath + path + '?' + getQuery(data);
}

/**
 * Return encoded data
 * @param {Object} data 
 * @returns {String}
 */
function getQuery(data) {
	return Object.keys(data || {}).map(function (key) {
		return encodeURIComponent(key) + '=' + encodeURIComponent(data[key]);
	}).join('&');
}

module.exports = TeamChatAPIPrototype;

},{"BaseModel":"BaseModel","Callback":"Callback"}],18:[function(require,module,exports){
"use strict";
var BaseModel = require('BaseModel');
var BaseController = require('BaseController');
var Fragment = require('@icewarp/fragment').instance({
	array_separator: void 0
});

var ApplicationCollaboration = BaseController.create('ApplicationCollaboration');

ApplicationCollaboration.prototype.helper = function () {
	var data = Fragment.getFragment();
	var theme = 't-violet';

	if (this.data.DocName) {
		return {
			class_name: theme,
			collaboration: BaseController.new('feature-collaboration', this.data)
		};
	}
	if (this.data.error || !data.ticket || data.ticket === true) {
		return {
			class_name: theme,
			collaboration: BaseController.new('feature-collaboration~error', {
				error: this.data.error || 'wrong_link'
			})
		};
	}

	return BaseModel.instance('TeamChatAPI').filesInviteInfo(data).then(function (response) {
		return {
			class_name: theme,
			collaboration: BaseController.new('feature-collaboration', response)
		};
	}, function (response) {
		if (response.DocPassword) {
			return {
				class_name: theme,
				collaboration: BaseController.new('feature-collaboration~locked', response)
			};
		}
		return {
			class_name: theme,
			collaboration: BaseController.new('feature-collaboration~error', response)
		};
	});
};

module.exports = ApplicationCollaboration;

},{"@icewarp/fragment":42,"BaseController":"BaseController","BaseModel":"BaseModel"}],19:[function(require,module,exports){
"use strict";
var BaseController = require('BaseController');

var Base = BaseController.create('Base');

Base.prototype.addListeners = function() {
	var i;
	for (i in this.data) {
		!i.indexOf('handle') && this.data[i] && this.addDOMListener('', i.replace('handle', '').toLowerCase(), this.data[i]);
	}
};

module.exports = Base;

},{"BaseController":"BaseController"}],20:[function(require,module,exports){
"use strict";
var Base = require('./../../base');
var BasicInput = Base.create('BasicInput');

BasicInput.prototype.value = function(value) {
	if (value !== void 0) {
		return this.DOMElement.value = value;
	}
	return this.DOMElement.value.trim();
};

module.exports = BasicInput;

},{"./../../base":19}],21:[function(require,module,exports){
"use strict";
var BaseModel = require('BaseModel');
var BaseController = require('BaseController');
var ComponentAvatar = BaseController.create('ComponentAvatar');
var Fragment = require('@icewarp/fragment').instance();

ComponentAvatar.prototype.afterRender = function () {
	var data, img;
	if (this.data.image_path) {
		return;
	}

	data = Fragment.getFragment();

	img = new Image();
	img.addEventListener('load', function () {
		this.data.image_path = img.src;
		this.rerender();
	}.bind(this));
	img.src = BaseModel.instance('TeamChatAPI').filesAvatar({
		ticket: data.ticket,
		email: this.data.email
	});
};

ComponentAvatar.prototype.helper = function () {
	var initials;
	if (!this.data.image_path) {
		if (this.data.name) {
			initials = this.data.name.split(' ');
			initials = initials.splice(0, 1).concat([initials.pop()]).filter(Boolean).map(function (name) {
				return name.substr(0, 1);
			}).join('');
		} else {
			initials = this.data.email.substr(0, 1);
		}
	}
	return this.data.email ? {
		image: this.data.image_path,
		letter: initials,
		class_name: this.data.class_name,
		mod: this.data.mod
	} : {};
};

module.exports = ComponentAvatar;

},{"@icewarp/fragment":42,"BaseController":"BaseController","BaseModel":"BaseModel"}],22:[function(require,module,exports){
"use strict";
var Base = require('../../base');
var ComponentButton = Base.create('ComponentButton');

module.exports = ComponentButton;

},{"../../base":19}],23:[function(require,module,exports){
"use strict";
var BaseModel = require('BaseModel');
var BaseController = require('BaseController');
var Fragment = require('@icewarp/fragment').instance();

var FeatureCollaboration = BaseController.create('FeatureCollaboration');

/**
 * 
 * @param {String} filename 
 * @returns {String}
 */
function getType(filename) {
	switch ((filename || '').split('.').pop().toLocaleLowerCase()) {
		case 'doc':
		case 'docx':
		case 'dotx':
		case 'odt':
		case 'ott':
		case 'dot':
		case 'uot':
		case 'rtf':
			return 'document';
		case 'xls':
		case 'xlsx':
		case 'xlt':
		case 'xlm':
		case 'ods':
		case 'ots':
		case 'sxt':
		case 'csv':
			return 'spreadsheet';
		case 'odp':
		case 'ppt':
		case 'pptx':
		case 'pps':
		case 'ppsx':
		case 'vsd':
			return 'presentation';
		case 'pdf':
			return 'pdf';
		case 'mp3':
		case 'wma':
		case 'mid':
		case 'mpa':
		case 'wav':
		case 'ogg':
		case 'ac3':
			return 'audio';
		case 'avi':
		case 'wmv':
		case 'mkv':
		case '3gp':
		case 'mpg':
		case 'mpeg':
		case 'mp4':
		case 'mov':
			return 'video';
		case 'jpg':
		case 'jpeg':
		case 'tif':
		case 'bmp':
		case 'png':
		case 'ico':
		case 'gif':
		case 'xcf':
		case 'svg':
			return 'image';
	}
	return 'generic';
}

/**
 * 
 * @param {String} filetype 
 * @returns {Boolean}
 */
function isEditable(filetype) {
	return ~['document', 'spreadsheet', 'presentation'].indexOf(filetype);
}

FeatureCollaboration.prototype.onCreate = function () {
	var editable = this.data.DocEditable && this.data.WebDocumentsEnabled && isEditable(getType(this.data.DocName));

	if(this.data.DocName) {
		document.title = __('title') + ' - ' + this.data.DocName;
	}

	if(!editable) {
		return;
	}

	this.input = BaseController.new('basic-input', {
		placeholder: __('collaboration.name.placeholder'),
		handleKeyup: function (e) {
			var event;
			this.edit.DOMElement.toggleAttribute('disabled', !this.input.value().length);
			if (e.key === 'Enter') {
				event = document.createEvent('Event');
				event.initEvent('click', false, true);
				this.edit.DOMElement.dispatchEvent(event);
			}
		}.bind(this)
	});

	this.name = BaseController.new('component-input', {
		mod: 'coll',
		label: {
			text: __('collaboration.name.label')
		},
		element: this.input
	});

	this.edit = BaseController.new('component-button', {
		text: __('collaboration.edit'),
		mod: 'coll-main',
		disabled: true,
		handleClick: function() {
			BaseModel.instance('Editor').init({
				ticket: Fragment.getFragment().ticket,
				name: this.input.value(),
				password: this.data.password
			}, function(error) {
				this.getParent('application-collaboration').rerender(error);
			}.bind(this));
		}.bind(this)
	});
};

FeatureCollaboration.prototype.afterRender = function () {
	this.name && this.name.view_data.element.DOMElement.focus();
	if (!isEditable(getType(this.data.DocName)) || !this.data.WebDocumentsEnabled) {
		var data = {
			ticket: Fragment.getFragment().ticket
		};
		if(this.data.password) {
			data.password = this.data.password;
		}
		BaseModel.instance('TeamChatAPI').filesDownload(data);
	} else if(!this.data.DocEditable) {
		BaseModel.instance('Editor').init({
			ticket: Fragment.getFragment().ticket,
			password: this.data.password
		}, function(error) {
			this.getParent('application-collaboration').rerender(error);
		}.bind(this));
	}
};

FeatureCollaboration.prototype.helper = function () {
	var DocIssuer = this.data.DocIssuer;
	var type = getType(this.data.DocName);
	var editable = this.data.DocEditable && this.data.WebDocumentsEnabled && isEditable(type);

	if(isEditable(type) && !this.data.DocEditable && this.data.WebDocumentsEnabled) {
		return {};
	}

	return {
		mod: ~['audio', 'video'].indexOf(type) ? 'generic' : type,
		icon: BaseController.new('component-icon-document', {
			icon: BaseController.new('basic-icon', {
				set: 'filetypes',
				type: type
			}),
			mod: type
		}),
		message: BaseController.new('component-message-document', {
			type: type,
			mod: 'coll',
			fileinfo: __('collaboration.heading.' + (editable ? type : 'generic'), {
				filename: this.data.DocName
			})
		}),
		activity: __('collaboration.subheading.' + (editable ? 'collaborate' : 'share'), {
			name: DocIssuer
		}),
		avatar: BaseController.new('component-avatar', {
			email: this.data.DocIssuerEmail,
			name: DocIssuer
		}),
		input: this.name,
		button: [
			this.edit,
			BaseController.new('component-button', {
				text: __('collaboration.download'),
				mod: editable ? 'coll-subsidiary' : 'coll-main',
				handleClick: function () {
					var data = {
						ticket: Fragment.getFragment().ticket
					};
					if(this.data.password) {
						data.password = this.data.password;
					}
					BaseModel.instance('TeamChatAPI').filesDownload(data);
				}.bind(this)
			})
		].filter(Boolean)
	};
};

module.exports = FeatureCollaboration;

},{"@icewarp/fragment":42,"BaseController":"BaseController","BaseModel":"BaseModel"}],24:[function(require,module,exports){
"use strict";
var BaseController = require('BaseController');
var FeatureCollaboration_Error = BaseController.create('FeatureCollaboration_Error');

var ERROR_CODES = {
	40: 'not_shared',
	41: 'password_protected'
};

FeatureCollaboration_Error.prototype.helper = function () {
	return {
		mod: 'generic',
		icon: BaseController.new('component-icon-document', {
			icon: BaseController.new('basic-icon', {
				set: 'emoji',
				type: 'sad'
			}),
			mod: 'wrong'
		}),
		message: BaseController.new('component-message-document', {
			type: 'generic',
			mod: 'coll',
			fileinfo: __('error.heading'),
			docmsg: __('error.' + (ERROR_CODES[this.data.error] || this.data.error || 'unknown').toLowerCase(), {
				error_details: this.data.error_details
			})
		})
	};
};

module.exports = FeatureCollaboration_Error;

},{"BaseController":"BaseController"}],25:[function(require,module,exports){
"use strict";
var Fragment = require('@icewarp/fragment').instance();
var BaseModel = require('BaseModel');
var BaseController = require('BaseController');
var FeatureCollaboration = require('./collaboration');
var FeatureCollaboration_Locked = FeatureCollaboration.create('FeatureCollaboration_Locked');

FeatureCollaboration_Locked.prototype.onCreate = function () {
	this.input = BaseController.new('basic-input', {
		placeholder: __('locked.password.placeholder'),
		type: 'password',
		handleKeyup: function (e) {
			var event;
			this.submitButton.DOMElement.toggleAttribute('disabled', !this.input.value().length);
			if (e.key === 'Enter') {
				event = document.createEvent('Event');
				event.initEvent('click', false, true);
				this.submitButton.DOMElement.dispatchEvent(event);
			}
		}.bind(this)
	});

	this.errorMessage = BaseController.new('basic-text', {
		text: __('locked.password.error'),
		icon: BaseController.new('basic-icon', {
			set: 'ui',
			type: 'error'
		})
	});

	this.password = BaseController.new('component-input', {
		mod: ['coll', 'collpass'],
		label: {
			text: __('locked.password.label')
		},
		element: this.input,
		desc: this.errorMessage
	});

	this.submitButton = BaseController.new('component-button', {
		text: __('unlock'),
		mod: ['coll-main'],
		disabled: true,
		handleClick: function () {
			var data = Fragment.getFragment();
			data.password = this.input.value();

			BaseModel.instance('TeamChatAPI').callCommunication('filesInviteInfo', data).then(function (response) {
				response.password = data.password;
				this.getParent('application-collaboration').rerender(response);
			}.bind(this), function (response) {
				switch (response.error) {
					case 40:
						this.getParent('application-collaboration').rerender();
						break;
					default:
						this.password.DOMElement.classList.toggle('c-input--collpass-error', true);
						this.errorMessage.DOMElement.removeAttribute('hidden');
						this.password.view_data.element.DOMElement.focus();
				}
			}.bind(this));
		}.bind(this)
	});
};

FeatureCollaboration_Locked.prototype.afterRender = function () {
	this.errorMessage.DOMElement.setAttribute('hidden', '');
	this.password.view_data.element.DOMElement.focus();
};

FeatureCollaboration_Locked.prototype.helper = function () {
	var type = 'generic';

	return {
		mod: type,
		icon: BaseController.new('component-icon-document', {
			icon: BaseController.new('basic-icon', {
				set: 'filetypes',
				type: type
			}),
			locked: BaseController.new('component-icon-document', {
				icon: BaseController.new('basic-icon', {
					set: 'ui',
					type: 'locked',
				}),
				mod: 'locked',
			})
		}),
		message: BaseController.new('component-message-document', {
			type: type,
			mod: 'coll',
			fileinfo: __('locked.heading'),
			docmsg: __('locked.subheading')
		}),
		input: this.password,
		button: this.submitButton
	};
};

module.exports = FeatureCollaboration_Locked;

},{"./collaboration":23,"@icewarp/fragment":42,"BaseController":"BaseController","BaseModel":"BaseModel"}],26:[function(require,module,exports){
"use strict";
module.exports={'base':function(){return require('C:/BuildAgent/work/e3506fa901efb491/merged/components/base.js')},'application-collaboration':function(){return require('C:/BuildAgent/work/e3506fa901efb491/merged/components/application/collaboration/collaboration.js')},'feature-collaboration':function(){return require('C:/BuildAgent/work/e3506fa901efb491/merged/components/feature/collaboration/collaboration.js')},'feature-collaboration~error':function(){return require('C:/BuildAgent/work/e3506fa901efb491/merged/components/feature/collaboration/collaboration~error.js')},'feature-collaboration~locked':function(){return require('C:/BuildAgent/work/e3506fa901efb491/merged/components/feature/collaboration/collaboration~locked.js')},'basic-input':function(){return require('C:/BuildAgent/work/e3506fa901efb491/merged/components/basic/input/input.js')},'component-avatar':function(){return require('C:/BuildAgent/work/e3506fa901efb491/merged/components/component/avatar/avatar.js')},'component-button':function(){return require('C:/BuildAgent/work/e3506fa901efb491/merged/components/component/button/button.js')}};
},{"C:/BuildAgent/work/e3506fa901efb491/merged/components/application/collaboration/collaboration.js":18,"C:/BuildAgent/work/e3506fa901efb491/merged/components/base.js":19,"C:/BuildAgent/work/e3506fa901efb491/merged/components/basic/input/input.js":20,"C:/BuildAgent/work/e3506fa901efb491/merged/components/component/avatar/avatar.js":21,"C:/BuildAgent/work/e3506fa901efb491/merged/components/component/button/button.js":22,"C:/BuildAgent/work/e3506fa901efb491/merged/components/feature/collaboration/collaboration.js":23,"C:/BuildAgent/work/e3506fa901efb491/merged/components/feature/collaboration/collaboration~error.js":24,"C:/BuildAgent/work/e3506fa901efb491/merged/components/feature/collaboration/collaboration~locked.js":25}],27:[function(require,module,exports){
module.exports={"title":"IceWarp Collaboration","collaboration":{"download":"Download","edit":"Start editing","heading":{"document":"Collaborate on the document **%{filename}**","presentation":"Collaborate on the presentation **%{filename}**","generic":"Shared file **%{filename}**","spreadsheet":"Collaborate on the spreadsheet **%{filename}**"},"name":{"label":"Your name (invited people will see it)","placeholder":"Enter your name"},"subheading":{"collaborate":"**%{name}** invited you to collaborate","share":"**%{name}** shared file with you"}},"error":{"e_document_invite":"No document invite","e_notfound":"Document has been deleted, but can be recovered","gw_error":"Server error","heading":"Oops. Something went wrong.","method_not_exist":"Unsupported server version","not_shared":"File not shared","parse":"Error parsing server response","unexpected_error":"Unexpected server error: %{error_details}","unknown":"We are working on getting this fixed as soon as we can.","wrong_link":"Wrong link"},"locked":{"heading":"Document is password protected","password":{"error":"Incorrect password. Please, try it again.","label":"Password","placeholder":"Enter password"},"subheading":"Enter the password to view this document."}}
},{}],28:[function(require,module,exports){
module.exports={"en":{"label":"English","direction":"ltr"}}
},{}],29:[function(require,module,exports){
"use strict";
/**
 * @see {@link https://stackoverflow.com/a/48275932}
 * @param {*} target 
 * @param {*} source 
 */
function mergeDeep(target, source) {
	var key;
	if (typeof target == "object" && typeof source == "object") {
		for (key in source) {
			if (source[key] === null && (target[key] === undefined || target[key] === null)) {
				target[key] = null;
			} else if (source[key] instanceof Array) {
				if (!target[key]) target[key] = [];
				//concatenate arrays
				target[key] = target[key].concat(source[key]);
			} else if (typeof source[key] == "object") {
				if (!target[key]) target[key] = {};
				mergeDeep(target[key], source[key]);
			} else {
				target[key] = source[key];
			}
		}
	}
	return target;
}

module.exports = mergeDeep;

},{}],30:[function(require,module,exports){
"use strict";
var I18n = require('@icewarp/i18n');
var config = require('C:\\BuildAgent\\work\\e3506fa901efb491\\src\\_config.json');

/**
 * Init translations
 * @param {Object} data
 * @param {*} next
 * @returns {undefined}
 */
function i18n(data, next) {
	config.i18n = config.i18n || {};

	I18n.init({
		url: config.i18n.url || 'locale/',
		expose: config.i18n.expose || '__',
		default_locale: config.i18n.default_locale || 'en',
		default_locale_dictionary: config.i18n.default_locale_dictionary || require('./../locale/en.json'),
		supported_languages: config.i18n.supported_languages || require('./../locale/languages.json'),
		external_url: config.i18n.external_url,
		version: config.i18n.version,
		project_name: config.project_name
	});
	next();
}

module.exports = i18n;

},{"./../locale/en.json":27,"./../locale/languages.json":28,"@icewarp/i18n":43,"C:\\BuildAgent\\work\\e3506fa901efb491\\src\\_config.json":54}],31:[function(require,module,exports){
"use strict";
var BaseModel = require('BaseModel');
var BaseController = require('BaseController');
var Template = require('icebrace-runtime');

/**
 * Environment initialization
 * set models, controllers, templates
 * 
 * @param {*} data
 * @param {function} next
 * @returns {undefined}
 * @ignore
 */
function initEnvironment(data, next) {
	BaseModel.setModels(require('./../models-list.js'));
	BaseController.setControllers(require('./../controllers-list.js'));
	Template.setTemplates(require('./../templates-list.js'));
	next();
}

module.exports = initEnvironment;

},{"./../controllers-list.js":26,"./../models-list.js":35,"./../templates-list.js":40,"BaseController":"BaseController","BaseModel":"BaseModel","icebrace-runtime":"icebrace-runtime"}],32:[function(require,module,exports){
"use strict";
var config = require('C:\\BuildAgent\\work\\e3506fa901efb491\\src\\_config.json');
var BaseModel = require('BaseModel');
var Request = require('request');
var mergeDeep = require('./helpers/merge-deep');

/**
 * @description Load config from URL, if provided
 * @param {string} url
 * @param {function} callback
 * @returns {undefined}
 */
function request(url, callback) {
	if (!url) {
		return callback();
	}
	new Request({
		url: url
	})
		.on('load', function(e, xhr) {
			try {
				mergeDeep(config, JSON.parse(xhr.response || xhr.responseText));
			} catch (e) {
				console.info('Error while loading config', url, 'fallback', config);
			}
			callback();
		})
		.on('error', function() {
			console.info('Error while loading config', url, 'fallback', config);
			callback();
		})
		.send();
}

/**
 * Load config from ./_config, extend it by ./external_config.json and config from config.remote_config_url
 *
 * @param {*} data
 * @param {function} next
 * @returns {undefined}
 * @ignore
 */
module.exports = function(data, next) {
	var external_config_url =
		config.external_config_url ||
		(location.origin || location.protocol + '//' + location.hostname) +
			(location.pathname + '/external_config.json').replace('//', '/');

	BaseModel.instance('Config').setData('config', config);
	request(external_config_url, function() {
		request(config.remote_config_url, next);
	});
};

},{"./helpers/merge-deep":29,"BaseModel":"BaseModel","C:\\BuildAgent\\work\\e3506fa901efb491\\src\\_config.json":54,"request":"request"}],33:[function(require,module,exports){
"use strict";
/**
 * @returns {undefined}
 */
function Middleware() {
	if (!arguments[0]) {
		throw new Error('No middlewares specified');
	}

	runMiddleware(void 0, [].slice.call(arguments));
}

/**
 * 
 * @param {*} data 
 * @param {middleware[]} middlewares 
 * @returns {undefined}
 */
function runMiddleware(data, middlewares) {
	if (!middlewares.length) {
		return;
	}
	middlewares.shift()(data, function(data) {
		runMiddleware(data, middlewares.slice(0));
	});
}

module.exports = Middleware;

},{}],34:[function(require,module,exports){
"use strict";
var logger = require('logger');
var config = require('C:\\BuildAgent\\work\\e3506fa901efb491\\src\\_config.json');

/**
 * Set logger log level
 * 
 * @param {*} data
 * @param {function} next
 * @returns {undefined}
 * @ignore
 */
function setLogLevel(data, next) {
	logger.setLevel((config.logger || {}).level || (logger.INFO | logger.WARN | logger.ERROR));
	next();
}
module.exports = setLogLevel;

},{"C:\\BuildAgent\\work\\e3506fa901efb491\\src\\_config.json":54,"logger":"logger"}],35:[function(require,module,exports){
"use strict";
module.exports={'Config':function(){return require('./models/Config.js')},'Editor':function(){return require('./models/Editor.js')},'TeamChatAPI':function(){return require('./models/TeamChatAPI.js')},'Language':function(){return require('./models/Language.js')}};
},{"./models/Config.js":36,"./models/Editor.js":37,"./models/Language.js":38,"./models/TeamChatAPI.js":39}],36:[function(require,module,exports){
"use strict";
var BaseModel = require('BaseModel');

var Config = BaseModel.create('Config');

Config.singleton = true;

module.exports = Config;

},{"BaseModel":"BaseModel"}],37:[function(require,module,exports){
"use strict";
var BaseModel = require('BaseModel');
var Editor = BaseModel.create('Editor');

var webdocumentsPath = '/webdocuments/';
var loader;

Editor.singleton = true;

Editor.prototype.onCreate = function () {
	var config = BaseModel.instance('Config').getData('config');
	webdocumentsPath = config && config.webdocumentsPath || webdocumentsPath;

	this.__document_changed = false;
	this.__document_saved = true;

	window.addEventListener('beforeunload', filesStopEditBeacon.bind(this), false);
};

/**
 * Create element for the editor
 * @param {function} callback
 * @returns {undefined}
 */
function initPlaceholder(callback) {
	var placeholder = document.getElementById('editor');
	loader = document.createElement('div');
	while (document.body.firstChild) {
		document.body.removeChild(document.body.lastChild);
	}
	if (!placeholder) {
		placeholder = document.createElement('div');
		placeholder.id = 'editor';
		document.body.appendChild(placeholder);
	}
	
	loader.classList.add('c-loader');
	document.body.appendChild(loader);
	callback();
}

/**
 * @param {function} callback
 * @returns {undefined}
 */
function initScript(callback) {
	var interval;
	var script = document.getElementById('onlyoffice');
	if (!script) {
		script = document.createElement('script');
		script.id = 'onlyoffice';
		script.setAttribute('src', webdocumentsPath + 'web-apps/apps/api/documents/api.js');
		document.head.appendChild(script);
	}
	interval = setInterval(function () {
		if (window.DocsAPI) {
			clearInterval(interval);
			callback();
		}
	}, 5);
}

/**
 * 
 * @param {Object} response 
 * @returns {undefined}
 */
function initEditor(response) {
	response.data.document.fileType = response.data.document.fileType.toLowerCase();

	response.data.editorConfig = response.data.editorConfig || {};
	response.data.editorConfig.customization = response.data.editorConfig.customization || {};
	response.data.editorConfig.customization.about = false;
	response.data.editorConfig.customization.chat = false;
	response.data.editorConfig.customization.feedback = false;
	response.data.editorConfig.user.firstname = this.name;

	response.data.events = {
		onAppReady: function () {
			var doc = document.querySelector('iframe').contentWindow.document,
				style, link;

			loader.parentNode.removeChild(loader);

			style = doc.createElement('style');
			style.textContent = '.ribtab:first-of-type,\
			.extra.left {\
				display: none!important;\
			}';
			doc.head.appendChild(style);

			link = document.createElement('link');
			link.setAttribute('rel', 'stylesheet');
			link.setAttribute('type', 'text/css');
			link.setAttribute('href', location.origin + location.pathname + './css/onlyoffice.css');
			doc.head.appendChild(link);

			link = document.createElement('link');
			link.setAttribute('rel', 'stylesheet');
			link.setAttribute('type', 'text/css');
			link.setAttribute('href', location.origin + location.pathname + './css/onlyoffice_' + response.data.documentType + '.css');
			doc.head.appendChild(link);
		},
		onDocumentStateChange: function (event) {
			this.__document_changed = this.__document_changed || event.data;
			this.__document_saved = !event.data;
		}.bind(this)
	};

	initPlaceholder(function () {
		new window.DocsAPI.DocEditor('editor', response.data);
	});
}

/**
 * Send `files.stopedit` via `navigator.sendBeacon`
 * @returns {undefined}
 */
function filesStopEditBeacon() {
	this.__document_saved && this.__document_changed && BaseModel.instance('TeamChatAPI').filesStopEditBeacon({
		ticket: this.ticket
	});
}

Editor.prototype.init = function (data, error_callback) {
	this.ticket = data.ticket;
	this.name = data.name;
	initScript(function () {
		BaseModel.instance('TeamChatAPI').filesEdit(data, {
			success: initEditor,
			error: error_callback,
			context: this
		});
	}.bind(this));
};

module.exports = Editor;

},{"BaseModel":"BaseModel"}],38:[function(require,module,exports){
"use strict";
var BaseModel = require('BaseModel');
var i18n = require('@icewarp/i18n');
var Callback = require('Callback');
var LocalStorage = require('@icewarp/localstorage');
var Language = BaseModel.create('Language');

Language.singleton = true;

Language.changeLanguage = function (language, callback) {
	i18n.changeLanguage(language, changeLanguage.bind(null, callback), changeLanguage.bind(null, callback));
};

Language.getLanguageCode = function () {
	return LocalStorage.getItem('language') || getBrowserLanguageCode() || 'en';
};

/**
 * @returns {String}
 */
function getBrowserLanguageCode() {
	var index;
	var browser_languages = (navigator.languages || []).concat([navigator.language || navigator.userLanguage]);
	for (index in browser_languages) {
		return browser_languages[index].split('-')[0].toLowerCase();
	}
}

/**
 * 
 * @param {Object} callback
 * @param {Object} language 
 * @param {String} language.code
 * @param {Boolean} language.rtl
 * @returns {undefined}
 */
function changeLanguage(callback, language) {
	document.body.setAttribute('dir', language.rtl ? 'rtl' : 'ltr');
	Callback(Callback.SUCCESS, callback);
}

module.exports = Language;

},{"@icewarp/i18n":43,"@icewarp/localstorage":46,"BaseModel":"BaseModel","Callback":"Callback"}],39:[function(require,module,exports){
"use strict";
var BaseModel = require('BaseModel');
var TeamChatAPI = BaseModel.create('TeamChatAPI');

TeamChatAPI.singleton = true;

TeamChatAPI.prototype.filesEdit = function (args, callback) {
	return this.callCommunication('filesEdit', args, callback);
};

TeamChatAPI.prototype.filesStopEdit = function (args, callback) {
	return this.callCommunication('filesStopEdit', args, callback);
};

TeamChatAPI.prototype.filesInviteInfo = function (args, callback) {
	return this.callCommunication('filesInviteInfo', args, callback);
};

TeamChatAPI.prototype.filesDownload = function (args) {
	return this.callCommunication('filesDownload', args);
};

TeamChatAPI.prototype.filesAvatar = function (args) {
	return this.callCommunication('filesAvatar', args, {});
};

module.exports = TeamChatAPI;

},{"BaseModel":"BaseModel"}],40:[function(require,module,exports){
"use strict";
module.exports={'application-collaboration':function(){return require('./_compiled/application-collaboration.js')},'basic-input':function(){return require('./_compiled/basic-input.js')},'basic-label':function(){return require('./_compiled/basic-label.js')},'basic-loader':function(){return require('./_compiled/basic-loader.js')},'basic-text':function(){return require('./_compiled/basic-text.js')},'component-avatar':function(){return require('./_compiled/component-avatar.js')},'component-button':function(){return require('./_compiled/component-button.js')},'component-icon-document':function(){return require('./_compiled/component-icon-document.js')},'component-input':function(){return require('./_compiled/component-input.js')},'component-message-document':function(){return require('./_compiled/component-message-document.js')},'feature-collaboration':function(){return require('./_compiled/feature-collaboration.js')},'meta-head':function(){return require('./_compiled/meta-head.js')},'meta-index':function(){return require('./_compiled/meta-index.js')},'basic-icon':function(){return require('./_compiled/basic-icon.js')}};
},{"./_compiled/application-collaboration.js":1,"./_compiled/basic-icon.js":2,"./_compiled/basic-input.js":3,"./_compiled/basic-label.js":4,"./_compiled/basic-loader.js":5,"./_compiled/basic-text.js":6,"./_compiled/component-avatar.js":7,"./_compiled/component-button.js":8,"./_compiled/component-icon-document.js":9,"./_compiled/component-input.js":10,"./_compiled/component-message-document.js":11,"./_compiled/feature-collaboration.js":12,"./_compiled/meta-head.js":13,"./_compiled/meta-index.js":14}],41:[function(require,module,exports){
/**
 * map of substitutions
 */
var entity_map = {
	'&': '&amp;',
	'<': '&lt;',
	'>': '&gt;',
	'"': '&quot;',
	"'": '&#39;',
	'/': '&#x2F;',
	'`': '&#x60;',
	'=': '&#x3D;'
};

/**
 * function to escape &<>"'`=\/ in string
 * @param string string to escape
 */
var escapeString = function(string) {
	return String(string).replace(/[&<>"'`=/]/g, function (match) {
		return entity_map[match];
	});
};

/**
 * @module escape-string
 */
module.exports = escapeString;

},{}],42:[function(require,module,exports){
function hashchangeHandler(e) {
	var new_fragment = this.getFragment(e && e.newURL),
		old_fragment = this.getFragment(e && e.oldURL),
		i;

	for (i in this.callbacks) {
		if (i === '_global') {
			this.callbacks._global.forEach(function (callback) {
				callback(new_fragment, old_fragment);
			});
		} else if (new_fragment[i] !== old_fragment[i]) {
			this.callbacks[i].forEach(function (callback) {
				callback(new_fragment[i], old_fragment[i], new_fragment, old_fragment);
			});
		}
	}
}

function normalizeInputs(args) {
	var valid = typeof args[0] === 'function' || (typeof args[0] === 'string' && typeof args[1] === 'function');

	if(!valid) {
		throw new Error('Wrong arguments for `Fragment.on/off` method');
	}

	if (typeof args[0] === 'function') {
		args[1] = args[0];
		args[0] = '_global';
	}
}

var fragments = [];

/**
 * @class Fragment
 * @param {Object} [options]
 */
var Fragment = function (options) {
	this.callbacks = {
		_global: []
	};
	this.options = Object.assign({
		fragment_separator: '&',
		key_value_separator: '=',
		array_separator: ',',
		parser: null,
		compiler: null
	}, options || {});

	window.addEventListener('hashchange', hashchangeHandler.bind(this), false);

	return this;
};

/**
 * Return new Fragment instance with options stored under the passed name.
 * Any subsequent calls with the same name return the same Fragment instance.
 * @param {String} [name]
 * @param {Object} [options]
 * @returns {Fragment}
 */
Fragment.instance = function(name, options) {
	var fragment;
	if(typeof name !== 'string') {
		options = name;
		name = '_global';
	}
	fragment = fragments[name] || new Fragment(options);
	fragments[name] = fragment;
	return fragment;
};

/**
 * Bind callback function to hashchange event
 * @param {string|function} route
 * @param {function} [callback]
 * @returns {Fragment}
 */
Fragment.prototype.on = function (route, callback) {
	normalizeInputs(arguments);

	this.callbacks[arguments[0]] = this.callbacks[arguments[0]] || [];
	this.callbacks[arguments[0]].push(arguments[1]);

	return this;
};

/**
 * Unbind callback function from hashchange event
 * @param {string|function} route
 * @param {function} [callback]
 * @returns {Fragment}
 */
Fragment.prototype.off = function (route, callback) {
	var index;
	normalizeInputs(arguments);

	index = (this.callbacks[arguments[0]] || []).indexOf(arguments[1]);
	~index && this.callbacks[arguments[0]].splice(index, 1);

	return this;
};

/**
 * Trigger hashchange event
 * @returns {undefined}
 */
Fragment.prototype.triggerChange = function () {
	window.dispatchEvent(new Event('hashchange'));
};

/**
 * Change URL fragment
 * @param {Object} new_fragment key value pairs; use null value to remove fragment part
 * @param {Object} [old_fragment] force previous fragment object; (default: parsed current fragment)
 * @returns {undefined}
 */
Fragment.prototype.updateFragment = function (new_fragment, old_fragment) {
	var i, key, value, data = [];

	old_fragment = old_fragment || this.getFragment();

	if (this.options.compiler) {
		return location.hash = this.options.compiler(new_fragment, old_fragment);
	}

	for (i in new_fragment) {
		if (new_fragment[i] === null) {
			delete old_fragment[i];
		} else {
			old_fragment[i] = new_fragment[i];
		}
	}

	for (i in old_fragment) {
		key = encodeURIComponent(i);
		value = old_fragment[i];
		if (Array.isArray(value)) {
			value = value.map(encodeURIComponent).join(this.options.array_separator);
		} else {
			switch (typeof value) {
				case 'boolean':
					value = +value;
					break;
				case 'undefined':
					value = void 0;
					break;
				default:
					value = encodeURIComponent(value);
			}
		}

		data.push(key + (value !== void 0 ? this.options.key_value_separator + value : ''));
	}

	location.hash = data.join(this.options.fragment_separator);
};

/**
 * Get parsed URL fragment
 * @param {String} [url]
 * @returns {Object}
 */
Fragment.prototype.getFragment = function (url) {
	var fragment = (url || location.href).replace(/^[^#]*#?(.*)$/, '$1');
	var parsed = {};

	if (this.options.parser) {
		return this.options.parser(fragment);
	}

	fragment.split(this.options.fragment_separator).filter(Boolean).forEach(function (frag) {
		var key, value;
		frag = frag.split(this.options.key_value_separator);
		key = decodeURIComponent(frag[0]);
		if (frag[1] === void 0) {
			value = true;
		} else if (~frag[1].indexOf(this.options.array_separator)) {
			value = frag[1].split(this.options.array_separator).map(decodeURIComponent);
		} else {
			value = decodeURIComponent(frag[1]);
		}

		parsed[key] = value;
	}, this);

	return parsed;
};

/**
 * @module Fragment
 */
module.exports = Fragment;

},{}],43:[function(require,module,exports){
var Request = require('request');
var logger = require('logger');
var Polyglot = require('./polyglot.js');
var polyglot = null;

/**
 * object to store loaded languages
 */
var language_dictionaries = {};
/**
 * object to store supported languages
 */
var supported_languages = {
	en: {
		direction: 'ltr',
		label: 'English'
	}
};

/**
 * i18n settings
 */
var settings = {};

var default_locale = 'en';

/**
 * 
 * @param {function} fn
 * @param {string} language
 * @param {Event} event
 * @param {XmlHttpRequest} xhr
 * @returns {i18n}
 */
var loadSuccess = function (fn, language, event, xhr) {
	try {
		language_dictionaries[language] = JSON.parse(event.target.responseText);
	} catch (e) {
		//
	}

	polyglot.extend(language_dictionaries[default_locale]);
	polyglot.extend(language_dictionaries[language]);
	polyglot.locale(language);
	fn(language);
	return this;
};

/**
 * 
 * @param {string} error_message
 * @param {function} fn
 * @param {string} language
 * @param {XmlHttpRequest} xhr
 * @returns {unresolved}
 */
var loadError = function (error_message, fn, language, xhr) {
	polyglot.locale(language);
	return fn ? fn(polyglot.locale()) : logger.error(error_message);
};

function compareVersions(a, b) {
	return compareVersions.parts(a.split('.'), b.split('.'), 0);
}
compareVersions.parts = function (a_parts, b_parts, index) {
	var diff;
	return ((a_parts.length - 1) < index && (b_parts.length - 1) < index) ? 0 : (!(diff = (+a_parts[index] || 0) - (+b_parts[index] || 0)) ? compareVersions.parts(a_parts, b_parts, index + 1) : (diff < 0 ? -1 : 1));
};

/**
 * Class for frontend translations
 * @class i18n
 */
function i18n() {}

/**
 * Initialize i18n library
 * @param {object} options
 * @param {string} url - url of local dictionaries
 * @param {string} [default_locale] - ISO code of default locale
 * @param {string} [external_url] - url of external dictionaries (required for external dictionaries)
 * @param {Object} [default_locale_dictionary] - dictionary that is build in application
 * @param {string} [version] - version of local dictionaries (required for external dictionaries)
 * @param {string} [project_name] - name of project (required for external dictionaries)
 * @param {boolean} [options.dynamic] - switches translate function from regular to dynamic
 * @param {function} [callback] - callback function called on i18n initialization
 * @returns {i18n}
 */
i18n.init = function (options, callback) {
	settings = options || {};
	polyglot = new Polyglot(settings);

	if (settings.default_locale) {
		default_locale = settings.default_locale;
		if (settings.default_locale_dictionary) {
			language_dictionaries[settings.default_locale] = settings.default_locale_dictionary;
		}
	}

	supported_languages = settings.supported_languages || supported_languages;
	checkExternalDictionary.call(this, function () {
		i18n.changeLanguage(default_locale, callback);
	});

	settings.expose && (window[settings.expose] = (settings.dynamic ? i18n.tDynamic : i18n.tRegular).bind(i18n));
};

i18n.getSupportedLanguages = function () {
	return supported_languages;
};

/**
 * @summary Check and download external dictionary, if it's missing or it's old fallback to local
 * @description First check if settings necessary for external loading are present. Then create request for remote dictionary version, compare this version with settings.version this property contains version of locale dictionary from app build process. If external version is higher than local download external dictionary and save that external version for that language so it's not checked another time and fallback directly to error handler. Error handler checks if there is dictionary already in memory so there will be no other xhr. 
 * @param {function} callback
 * @returns {undefined}
 */
function checkExternalDictionary(callback) {
	if (!settings.external_url || !settings.version) {
		logger.info('Missing settings for external dictionary');
		return callback();
	}

	this.download(settings.external_url + '/version.json', function (event) {
		var version;
		try {
			version = JSON.parse(event.target.responseText).version;
		} catch (error) {
			return callback();
		}
		if (compareVersions(version, settings.version) === 1) {
			settings.url = settings.external_url;
			this.download(settings.url + '/languages.json', function (event) {
				try {
					supported_languages = JSON.parse(event.target.responseText);
				} catch (e) {
					//
				}
				language_dictionaries = {};
				callback();
			}.bind(this));
		} else {
			callback();
		}
	}.bind(this), callback);
}

i18n.download = function (url, success, error) {
	var options = {
		url: url
	};
	new Request(options)
		.on('load', success)
		.on('error', error)
		.send();
};

function downloadDictionary(url, language, fn, error_fn) {
	fn = fn || function () {};
	error_fn = error_fn || fn;
	this.download(url, loadSuccess.bind(this, fn, language), loadError.bind(this, error_fn, language));
}

/**
 * Change output language. Automatically loads new language file if not loaded yet
 * @param {string} language
 * @param {function} fn
 * @param {function} error_fn
 * @returns {i18n}
 */
i18n.changeLanguage = function (language, fn, error_fn) {
	if (!supported_languages[language]) {
		return loadError.call(this, language + ' language not supported', error_fn || fn, language);
	}

	if (language_dictionaries[language]) {
		polyglot.extend(language_dictionaries[default_locale]);
		polyglot.extend(language_dictionaries[language]);
		polyglot.locale(language);
		fn && fn(language);
		return;
	}
	downloadDictionary.call(this, settings.url + '/' + language + '.json', language, fn, error_fn);
	return this;
};

/**
 * function to translate text
 * 
 * @returns {string}
 */
i18n.tRegular = function () {
	return polyglot.t.apply(polyglot, arguments);
};

/**
 * function to translate text, returns new lambda that will return translated string
 * 
 * @returns {function}
 */
i18n.tDynamic = function () {
	var args = arguments;
	return function () {
		return polyglot.t.apply(polyglot, args);
	};
};

i18n.t = i18n.tRegular;

/** 
 * @module @icewarp/i18n 
 * @requires @icewarp/request
 * @requires @icewarp/logger
 * @requires node-polyglot
 */
module.exports = i18n;

},{"./polyglot.js":45,"logger":"logger","request":"request"}],44:[function(require,module,exports){
/**
 * function to parse MD syntax
 * @param input input text to parse
 */
module.exports = function (input) {
	return input.replace(/(\*{1,2}|_{1,2})(.*?)\1/gi, function (match, m1, m2) {
		var tag = ['em', 'strong'][m1.length - 1];
		return '<' + tag + '>' + m2 + '</' + tag + '>';
	}).replace(/\[(.*?)\]\((.*?)\)/gi, '<a href="$2" target="_blank" rel="noopener noreferrer">$1</a>');
};
},{}],45:[function(require,module,exports){
var logger = require('logger');
var Escape = require('@icewarp/escape-string');
var markdown = require('./markdown.js');
/**
 * Polyglot dictionary
 */
var phrases = {};
/**
 * Supress errors on missing translation
 * @type Boolean
 */
var allowMissing = false;
/**
 * Current locale
 * @type String
 */
var current_locale = '';
/**
 * Current plural type function
 * @type function
 */
var current_plural_type = null;
/**
 * Plural forms delimiter
 * @type String
 */
var delimiter = '||||';

var start_tag = '%{';

var end_tag = '}';

/**
 * Types of plural
 */
var pluralTypes = {
	chinese: function (n) {
		return 0;
	},
	german: function (n) {
		return n !== 1 ? 1 : 0;
	},
	french: function (n) {
		return n > 1 ? 1 : 0;
	},
	russian: function (n) {
		return n % 10 === 1 && n % 100 !== 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2;
	},
	czech: function (n) {
		return (n === 1) ? 0 : (n >= 2 && n <= 4) ? 1 : 2;
	},
	polish: function (n) {
		return (n === 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
	},
	icelandic: function (n) {
		return (n % 10 !== 1 || n % 100 === 11) ? 1 : 0;
	}
};

/**
 * List of languages for each plural type
 */
var pluralTypeToLanguages = {
	chinese: ['fa', 'id', 'ja', 'ko', 'lo', 'ms', 'th', 'tr', 'zh'],
	german: ['da', 'de', 'en', 'es', 'fi', 'el', 'he', 'hu', 'it', 'nl', 'no', 'pt', 'sv'],
	french: ['fr', 'tl', 'pt-br'],
	russian: ['hr', 'ru'],
	czech: ['cs', 'sk'],
	polish: ['pl'],
	icelandic: ['is']
};

/**
 * Return type of plural for locale
 * @param {String} locale
 * @returns {String}
 */
function pluralType(locale) {
	for (var type in pluralTypeToLanguages) {
		if (~pluralTypeToLanguages[type].indexOf(locale)) {
			return type;
		}
	}
	return 'german';
}

/**
 * Return index of plural form for count
 * @param {Number} count
 * @returns {Number}
 */
function pluralIndex(count) {
	return pluralTypes[current_plural_type](count);
}

/**
 * Return plural translation for text specified by count
 * @param {String} text
 * @param {Number} count
 * @returns {String}
 */
function plural(text, count) {
	var texts = text.split(delimiter);
	return (texts[pluralIndex(count)] || texts[0]).trim();
}

/**
 * Substitute %{placeholder}'s for options[placeholder]'s
 * @param {String} phrase
 * @param {Object} options
 * @returns {String}
 */
function substitute(phrase, options) {
	if (Array.isArray(options)) {
		var _options = {};
		options.forEach(function (value, index) {
			_options[index] = value;
		});
		options = _options;
	}
	phrase = (options.md === void 0 || options.md) ? markdown(phrase) : phrase;
	var escape = options.escape === void 0 ? true : options.escape;
	delete(options.md);
	delete(options.escape);
	for (var arg in options) {
		phrase = phrase.replace(new RegExp(start_tag + arg + end_tag, 'g'), escape ? Escape(options[arg]) : options[arg]);
	}
	var substitution_index = 0;
	phrase = phrase.replace(/%s/g, function () {
		return options[substitution_index++];
	});
	return phrase;
}

/**
 * Polyglot class
 * @param {Object} options
 * @returns {Polyglot}
 */
function Polyglot(options) {
	options = options || {};
	allowMissing = !!options.allowMissing;
	options.delimiter && (delimiter = options.delimiter);
	options.start_tag && (start_tag = options.start_tag);
	options.end_tag && (end_tag = options.end_tag);
	this.locale(options.default_locale || 'en');
	this.extend(options.default_locale_dictionary || {});
}

/**
 * Get and/or set current_locale
 * @param {type} new_locale
 * @returns {String} current_locale
 */
Polyglot.prototype.locale = function (new_locale) {
	new_locale && (current_locale = new_locale) && (current_plural_type = pluralType(current_locale));
	return current_locale;
};

/**
 * Extend polyglot dictionary with morePhrases
 * @param {Object} morePhrases
 * @returns {Polyglot}
 */
Polyglot.prototype.extend = function (morePhrases) {
	for (var key in morePhrases) {
		var phrase = morePhrases[key];
		var prefixedKey = (arguments[1] || '') + key;
		if (typeof phrase === 'object') {
			this.extend(phrase, prefixedKey + '.');
		} else {
			phrases[prefixedKey] = phrase;
		}
	}
	return this;
};

/**
 * Translate function
 * @param {String} key
 * @param {Object} options
 * @returns {String}
 */
Polyglot.prototype.t = function (key, options, fallback) {
	options = (options === null || options === void 0) ? {} : (typeof options === 'number' ? {amount: options} : options);
	if (typeof phrases[key] !== 'string') {
		switch (typeof fallback) {
			case 'function':
				return fallback(key, options);
			case 'string':
				return fallback;
		}
		phrases[key] = key;
		allowMissing || logger.warning('Missing translation for key: "' + key + '"');
	}
	return substitute(plural(phrases[key], options.amount === void 0 ? 1 : (+options.amount || 1)), options);
};

/**
 * @module Polyglot
 */
module.exports = Polyglot;

},{"./markdown.js":44,"@icewarp/escape-string":41,"logger":"logger"}],46:[function(require,module,exports){
function migrate() {
	for (var i = 0; i < localStorage.length; i++) {
		var key = localStorage.key(i);
		fakeEngine.setItem(key, localStorage.getItem(key));
	}
}

var fakeStorage = {};
var fakeEngine = {};

fakeEngine.getItem = function (key) {
	return fakeStorage[key];
};
fakeEngine.setItem = function (key, value) {
	fakeStorage[key] = value;
};
fakeEngine.removeItem = function (key) {
	delete(fakeStorage[key]);
};

var LocalStorage = {};
LocalStorage.getItem = function (key) {
	var value = _engine.getItem(key);
	try {
		return JSON.parse(value);
	} catch (e) {
		return value;
	}
};
LocalStorage.setItem = function (key, value) {
	try {
		_engine.setItem(key, JSON.stringify(value));
	} catch (e) {
		if (~['QUOTA_EXCEEDED_ERR', 'NS_ERROR_DOM_QUOTA_REACHED'].indexOf(e.name) || ~e.toString().indexOf("QUOTA_EXCEEDED_ERR") || ~e.toString().indexOf("QuotaExceededError")) {
			_engine = fakeEngine;
			migrate();
			return this.set(key, value);
		}
	}
	return this;
};
LocalStorage.removeItem = function (key) {
	_engine.removeItem(key);
	return this;
};

LocalStorage.setEngine = function (engine) {
	if(!engine.getItem) {
		throw new Error('Engine is missing getItem function');
	}
	if(!engine.setItem) {
		throw new Error('Engine is missing setItem function');
	}
	if(!engine.removeItem) {
		throw new Error('Engine is missing removeItem function');
	}
	_engine = engine;
};

var _engine = fakeEngine;
try {
	localStorage.setItem('_privateSafari', 'sucks');
	_engine = localStorage;
	localStorage.removeItem('_privateSafari');
} catch (e) {
	console.log('safari private');
}
module.exports = LocalStorage;

},{}],47:[function(require,module,exports){
/*
 * classList.js: Cross-browser full element.classList implementation.
 * 1.1.20170427
 *
 * By Eli Grey, http://eligrey.com
 * License: Dedicated to the public domain.
 *   See https://github.com/eligrey/classList.js/blob/master/LICENSE.md
 */

/*global self, document, DOMException */

/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */

if ("document" in window.self) {

// Full polyfill for browsers with no classList support
// Including IE < Edge missing SVGElement.classList
if (!("classList" in document.createElement("_")) 
	|| document.createElementNS && !("classList" in document.createElementNS("http://www.w3.org/2000/svg","g"))) {

(function (view) {

"use strict";

if (!('Element' in view)) return;

var
	  classListProp = "classList"
	, protoProp = "prototype"
	, elemCtrProto = view.Element[protoProp]
	, objCtr = Object
	, strTrim = String[protoProp].trim || function () {
		return this.replace(/^\s+|\s+$/g, "");
	}
	, arrIndexOf = Array[protoProp].indexOf || function (item) {
		var
			  i = 0
			, len = this.length
		;
		for (; i < len; i++) {
			if (i in this && this[i] === item) {
				return i;
			}
		}
		return -1;
	}
	// Vendors: please allow content code to instantiate DOMExceptions
	, DOMEx = function (type, message) {
		this.name = type;
		this.code = DOMException[type];
		this.message = message;
	}
	, checkTokenAndGetIndex = function (classList, token) {
		if (token === "") {
			throw new DOMEx(
				  "SYNTAX_ERR"
				, "An invalid or illegal string was specified"
			);
		}
		if (/\s/.test(token)) {
			throw new DOMEx(
				  "INVALID_CHARACTER_ERR"
				, "String contains an invalid character"
			);
		}
		return arrIndexOf.call(classList, token);
	}
	, ClassList = function (elem) {
		var
			  trimmedClasses = strTrim.call(elem.getAttribute("class") || "")
			, classes = trimmedClasses ? trimmedClasses.split(/\s+/) : []
			, i = 0
			, len = classes.length
		;
		for (; i < len; i++) {
			this.push(classes[i]);
		}
		this._updateClassName = function () {
			elem.setAttribute("class", this.toString());
		};
	}
	, classListProto = ClassList[protoProp] = []
	, classListGetter = function () {
		return new ClassList(this);
	}
;
// Most DOMException implementations don't allow calling DOMException's toString()
// on non-DOMExceptions. Error's toString() is sufficient here.
DOMEx[protoProp] = Error[protoProp];
classListProto.item = function (i) {
	return this[i] || null;
};
classListProto.contains = function (token) {
	token += "";
	return checkTokenAndGetIndex(this, token) !== -1;
};
classListProto.add = function () {
	var
		  tokens = arguments
		, i = 0
		, l = tokens.length
		, token
		, updated = false
	;
	do {
		token = tokens[i] + "";
		if (checkTokenAndGetIndex(this, token) === -1) {
			this.push(token);
			updated = true;
		}
	}
	while (++i < l);

	if (updated) {
		this._updateClassName();
	}
};
classListProto.remove = function () {
	var
		  tokens = arguments
		, i = 0
		, l = tokens.length
		, token
		, updated = false
		, index
	;
	do {
		token = tokens[i] + "";
		index = checkTokenAndGetIndex(this, token);
		while (index !== -1) {
			this.splice(index, 1);
			updated = true;
			index = checkTokenAndGetIndex(this, token);
		}
	}
	while (++i < l);

	if (updated) {
		this._updateClassName();
	}
};
classListProto.toggle = function (token, force) {
	token += "";

	var
		  result = this.contains(token)
		, method = result ?
			force !== true && "remove"
		:
			force !== false && "add"
	;

	if (method) {
		this[method](token);
	}

	if (force === true || force === false) {
		return force;
	} else {
		return !result;
	}
};
classListProto.toString = function () {
	return this.join(" ");
};

if (objCtr.defineProperty) {
	var classListPropDesc = {
		  get: classListGetter
		, enumerable: true
		, configurable: true
	};
	try {
		objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);
	} catch (ex) { // IE 8 doesn't support enumerable:true
		// adding undefined to fight this issue https://github.com/eligrey/classList.js/issues/36
		// modernie IE8-MSW7 machine has IE8 8.0.6001.18702 and is affected
		if (ex.number === undefined || ex.number === -0x7FF5EC54) {
			classListPropDesc.enumerable = false;
			objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);
		}
	}
} else if (objCtr[protoProp].__defineGetter__) {
	elemCtrProto.__defineGetter__(classListProp, classListGetter);
}

}(window.self));

}

// There is full or partial native classList support, so just check if we need
// to normalize the add/remove and toggle APIs.

(function () {
	"use strict";

	var testElement = document.createElement("_");

	testElement.classList.add("c1", "c2");

	// Polyfill for IE 10/11 and Firefox <26, where classList.add and
	// classList.remove exist but support only one argument at a time.
	if (!testElement.classList.contains("c2")) {
		var createMethod = function(method) {
			var original = DOMTokenList.prototype[method];

			DOMTokenList.prototype[method] = function(token) {
				var i, len = arguments.length;

				for (i = 0; i < len; i++) {
					token = arguments[i];
					original.call(this, token);
				}
			};
		};
		createMethod('add');
		createMethod('remove');
	}

	testElement.classList.toggle("c3", false);

	// Polyfill for IE 10 and Firefox <24, where classList.toggle does not
	// support the second argument.
	if (testElement.classList.contains("c3")) {
		var _toggle = DOMTokenList.prototype.toggle;

		DOMTokenList.prototype.toggle = function(token, force) {
			if (1 in arguments && !this.contains(token) === !force) {
				return force;
			} else {
				return _toggle.call(this, token);
			}
		};

	}

	testElement = null;
}());

}

},{}],48:[function(require,module,exports){
'use strict';

require('./index').polyfill();

},{"./index":49}],49:[function(require,module,exports){
/**
 * Code refactored from Mozilla Developer Network:
 * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign
 */

'use strict';

function assign(target, firstSource) {
  if (target === undefined || target === null) {
    throw new TypeError('Cannot convert first argument to object');
  }

  var to = Object(target);
  for (var i = 1; i < arguments.length; i++) {
    var nextSource = arguments[i];
    if (nextSource === undefined || nextSource === null) {
      continue;
    }

    var keysArray = Object.keys(Object(nextSource));
    for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {
      var nextKey = keysArray[nextIndex];
      var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);
      if (desc !== undefined && desc.enumerable) {
        to[nextKey] = nextSource[nextKey];
      }
    }
  }
  return to;
}

function polyfill() {
  if (!Object.assign) {
    Object.defineProperty(Object, 'assign', {
      enumerable: false,
      configurable: true,
      writable: true,
      value: assign
    });
  }
}

module.exports = {
  assign: assign,
  polyfill: polyfill
};

},{}],50:[function(require,module,exports){
// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],51:[function(require,module,exports){
(function (setImmediate){(function (){
'use strict';

/**
 * @this {Promise}
 */
function finallyConstructor(callback) {
  var constructor = this.constructor;
  return this.then(
    function(value) {
      // @ts-ignore
      return constructor.resolve(callback()).then(function() {
        return value;
      });
    },
    function(reason) {
      // @ts-ignore
      return constructor.resolve(callback()).then(function() {
        // @ts-ignore
        return constructor.reject(reason);
      });
    }
  );
}

function allSettled(arr) {
  var P = this;
  return new P(function(resolve, reject) {
    if (!(arr && typeof arr.length !== 'undefined')) {
      return reject(
        new TypeError(
          typeof arr +
            ' ' +
            arr +
            ' is not iterable(cannot read property Symbol(Symbol.iterator))'
        )
      );
    }
    var args = Array.prototype.slice.call(arr);
    if (args.length === 0) return resolve([]);
    var remaining = args.length;

    function res(i, val) {
      if (val && (typeof val === 'object' || typeof val === 'function')) {
        var then = val.then;
        if (typeof then === 'function') {
          then.call(
            val,
            function(val) {
              res(i, val);
            },
            function(e) {
              args[i] = { status: 'rejected', reason: e };
              if (--remaining === 0) {
                resolve(args);
              }
            }
          );
          return;
        }
      }
      args[i] = { status: 'fulfilled', value: val };
      if (--remaining === 0) {
        resolve(args);
      }
    }

    for (var i = 0; i < args.length; i++) {
      res(i, args[i]);
    }
  });
}

// Store setTimeout reference so promise-polyfill will be unaffected by
// other code modifying setTimeout (like sinon.useFakeTimers())
var setTimeoutFunc = setTimeout;

function isArray(x) {
  return Boolean(x && typeof x.length !== 'undefined');
}

function noop() {}

// Polyfill for Function.prototype.bind
function bind(fn, thisArg) {
  return function() {
    fn.apply(thisArg, arguments);
  };
}

/**
 * @constructor
 * @param {Function} fn
 */
function Promise(fn) {
  if (!(this instanceof Promise))
    throw new TypeError('Promises must be constructed via new');
  if (typeof fn !== 'function') throw new TypeError('not a function');
  /** @type {!number} */
  this._state = 0;
  /** @type {!boolean} */
  this._handled = false;
  /** @type {Promise|undefined} */
  this._value = undefined;
  /** @type {!Array<!Function>} */
  this._deferreds = [];

  doResolve(fn, this);
}

function handle(self, deferred) {
  while (self._state === 3) {
    self = self._value;
  }
  if (self._state === 0) {
    self._deferreds.push(deferred);
    return;
  }
  self._handled = true;
  Promise._immediateFn(function() {
    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;
    if (cb === null) {
      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);
      return;
    }
    var ret;
    try {
      ret = cb(self._value);
    } catch (e) {
      reject(deferred.promise, e);
      return;
    }
    resolve(deferred.promise, ret);
  });
}

function resolve(self, newValue) {
  try {
    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure
    if (newValue === self)
      throw new TypeError('A promise cannot be resolved with itself.');
    if (
      newValue &&
      (typeof newValue === 'object' || typeof newValue === 'function')
    ) {
      var then = newValue.then;
      if (newValue instanceof Promise) {
        self._state = 3;
        self._value = newValue;
        finale(self);
        return;
      } else if (typeof then === 'function') {
        doResolve(bind(then, newValue), self);
        return;
      }
    }
    self._state = 1;
    self._value = newValue;
    finale(self);
  } catch (e) {
    reject(self, e);
  }
}

function reject(self, newValue) {
  self._state = 2;
  self._value = newValue;
  finale(self);
}

function finale(self) {
  if (self._state === 2 && self._deferreds.length === 0) {
    Promise._immediateFn(function() {
      if (!self._handled) {
        Promise._unhandledRejectionFn(self._value);
      }
    });
  }

  for (var i = 0, len = self._deferreds.length; i < len; i++) {
    handle(self, self._deferreds[i]);
  }
  self._deferreds = null;
}

/**
 * @constructor
 */
function Handler(onFulfilled, onRejected, promise) {
  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;
  this.onRejected = typeof onRejected === 'function' ? onRejected : null;
  this.promise = promise;
}

/**
 * Take a potentially misbehaving resolver function and make sure
 * onFulfilled and onRejected are only called once.
 *
 * Makes no guarantees about asynchrony.
 */
function doResolve(fn, self) {
  var done = false;
  try {
    fn(
      function(value) {
        if (done) return;
        done = true;
        resolve(self, value);
      },
      function(reason) {
        if (done) return;
        done = true;
        reject(self, reason);
      }
    );
  } catch (ex) {
    if (done) return;
    done = true;
    reject(self, ex);
  }
}

Promise.prototype['catch'] = function(onRejected) {
  return this.then(null, onRejected);
};

Promise.prototype.then = function(onFulfilled, onRejected) {
  // @ts-ignore
  var prom = new this.constructor(noop);

  handle(this, new Handler(onFulfilled, onRejected, prom));
  return prom;
};

Promise.prototype['finally'] = finallyConstructor;

Promise.all = function(arr) {
  return new Promise(function(resolve, reject) {
    if (!isArray(arr)) {
      return reject(new TypeError('Promise.all accepts an array'));
    }

    var args = Array.prototype.slice.call(arr);
    if (args.length === 0) return resolve([]);
    var remaining = args.length;

    function res(i, val) {
      try {
        if (val && (typeof val === 'object' || typeof val === 'function')) {
          var then = val.then;
          if (typeof then === 'function') {
            then.call(
              val,
              function(val) {
                res(i, val);
              },
              reject
            );
            return;
          }
        }
        args[i] = val;
        if (--remaining === 0) {
          resolve(args);
        }
      } catch (ex) {
        reject(ex);
      }
    }

    for (var i = 0; i < args.length; i++) {
      res(i, args[i]);
    }
  });
};

Promise.allSettled = allSettled;

Promise.resolve = function(value) {
  if (value && typeof value === 'object' && value.constructor === Promise) {
    return value;
  }

  return new Promise(function(resolve) {
    resolve(value);
  });
};

Promise.reject = function(value) {
  return new Promise(function(resolve, reject) {
    reject(value);
  });
};

Promise.race = function(arr) {
  return new Promise(function(resolve, reject) {
    if (!isArray(arr)) {
      return reject(new TypeError('Promise.race accepts an array'));
    }

    for (var i = 0, len = arr.length; i < len; i++) {
      Promise.resolve(arr[i]).then(resolve, reject);
    }
  });
};

// Use polyfill for setImmediate for performance gains
Promise._immediateFn =
  // @ts-ignore
  (typeof setImmediate === 'function' &&
    function(fn) {
      // @ts-ignore
      setImmediate(fn);
    }) ||
  function(fn) {
    setTimeoutFunc(fn, 0);
  };

Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {
  if (typeof console !== 'undefined' && console) {
    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console
  }
};

module.exports = Promise;

}).call(this)}).call(this,require("timers").setImmediate)
},{"timers":53}],52:[function(require,module,exports){
!function(root, factory) {
    "function" == typeof define && define.amd ? // AMD. Register as an anonymous module unless amdModuleId is set
    define([], function() {
        return root.svg4everybody = factory();
    }) : "object" == typeof module && module.exports ? // Node. Does not work with strict CommonJS, but
    // only CommonJS-like environments that support module.exports,
    // like Node.
    module.exports = factory() : root.svg4everybody = factory();
}(this, function() {
    /*! svg4everybody v2.1.9 | github.com/jonathantneal/svg4everybody */
    function embed(parent, svg, target) {
        // if the target exists
        if (target) {
            // create a document fragment to hold the contents of the target
            var fragment = document.createDocumentFragment(), viewBox = !svg.hasAttribute("viewBox") && target.getAttribute("viewBox");
            // conditionally set the viewBox on the svg
            viewBox && svg.setAttribute("viewBox", viewBox);
            // copy the contents of the clone into the fragment
            for (// clone the target
            var clone = target.cloneNode(!0); clone.childNodes.length; ) {
                fragment.appendChild(clone.firstChild);
            }
            // append the fragment into the svg
            parent.appendChild(fragment);
        }
    }
    function loadreadystatechange(xhr) {
        // listen to changes in the request
        xhr.onreadystatechange = function() {
            // if the request is ready
            if (4 === xhr.readyState) {
                // get the cached html document
                var cachedDocument = xhr._cachedDocument;
                // ensure the cached html document based on the xhr response
                cachedDocument || (cachedDocument = xhr._cachedDocument = document.implementation.createHTMLDocument(""), 
                cachedDocument.body.innerHTML = xhr.responseText, xhr._cachedTarget = {}), // clear the xhr embeds list and embed each item
                xhr._embeds.splice(0).map(function(item) {
                    // get the cached target
                    var target = xhr._cachedTarget[item.id];
                    // ensure the cached target
                    target || (target = xhr._cachedTarget[item.id] = cachedDocument.getElementById(item.id)), 
                    // embed the target into the svg
                    embed(item.parent, item.svg, target);
                });
            }
        }, // test the ready state change immediately
        xhr.onreadystatechange();
    }
    function svg4everybody(rawopts) {
        function oninterval() {
            // while the index exists in the live <use> collection
            for (// get the cached <use> index
            var index = 0; index < uses.length; ) {
                // get the current <use>
                var use = uses[index], parent = use.parentNode, svg = getSVGAncestor(parent), src = use.getAttribute("xlink:href") || use.getAttribute("href");
                if (!src && opts.attributeName && (src = use.getAttribute(opts.attributeName)), 
                svg && src) {
                    if (polyfill) {
                        if (!opts.validate || opts.validate(src, svg, use)) {
                            // remove the <use> element
                            parent.removeChild(use);
                            // parse the src and get the url and id
                            var srcSplit = src.split("#"), url = srcSplit.shift(), id = srcSplit.join("#");
                            // if the link is external
                            if (url.length) {
                                // get the cached xhr request
                                var xhr = requests[url];
                                // ensure the xhr request exists
                                xhr || (xhr = requests[url] = new XMLHttpRequest(), xhr.open("GET", url), xhr.send(), 
                                xhr._embeds = []), // add the svg and id as an item to the xhr embeds list
                                xhr._embeds.push({
                                    parent: parent,
                                    svg: svg,
                                    id: id
                                }), // prepare the xhr ready state change event
                                loadreadystatechange(xhr);
                            } else {
                                // embed the local id into the svg
                                embed(parent, svg, document.getElementById(id));
                            }
                        } else {
                            // increase the index when the previous value was not "valid"
                            ++index, ++numberOfSvgUseElementsToBypass;
                        }
                    }
                } else {
                    // increase the index when the previous value was not "valid"
                    ++index;
                }
            }
            // continue the interval
            (!uses.length || uses.length - numberOfSvgUseElementsToBypass > 0) && requestAnimationFrame(oninterval, 67);
        }
        var polyfill, opts = Object(rawopts), newerIEUA = /\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/, webkitUA = /\bAppleWebKit\/(\d+)\b/, olderEdgeUA = /\bEdge\/12\.(\d+)\b/, edgeUA = /\bEdge\/.(\d+)\b/, inIframe = window.top !== window.self;
        polyfill = "polyfill" in opts ? opts.polyfill : newerIEUA.test(navigator.userAgent) || (navigator.userAgent.match(olderEdgeUA) || [])[1] < 10547 || (navigator.userAgent.match(webkitUA) || [])[1] < 537 || edgeUA.test(navigator.userAgent) && inIframe;
        // create xhr requests object
        var requests = {}, requestAnimationFrame = window.requestAnimationFrame || setTimeout, uses = document.getElementsByTagName("use"), numberOfSvgUseElementsToBypass = 0;
        // conditionally start the interval if the polyfill is active
        polyfill && oninterval();
    }
    function getSVGAncestor(node) {
        for (var svg = node; "svg" !== svg.nodeName.toLowerCase() && (svg = svg.parentNode); ) {}
        return svg;
    }
    return svg4everybody;
});
},{}],53:[function(require,module,exports){
(function (setImmediate,clearImmediate){(function (){
var nextTick = require('process/browser.js').nextTick;
var apply = Function.prototype.apply;
var slice = Array.prototype.slice;
var immediateIds = {};
var nextImmediateId = 0;

// DOM APIs, for completeness

exports.setTimeout = function() {
  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);
};
exports.setInterval = function() {
  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);
};
exports.clearTimeout =
exports.clearInterval = function(timeout) { timeout.close(); };

function Timeout(id, clearFn) {
  this._id = id;
  this._clearFn = clearFn;
}
Timeout.prototype.unref = Timeout.prototype.ref = function() {};
Timeout.prototype.close = function() {
  this._clearFn.call(window, this._id);
};

// Does not start the time, just sets up the members needed.
exports.enroll = function(item, msecs) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = msecs;
};

exports.unenroll = function(item) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = -1;
};

exports._unrefActive = exports.active = function(item) {
  clearTimeout(item._idleTimeoutId);

  var msecs = item._idleTimeout;
  if (msecs >= 0) {
    item._idleTimeoutId = setTimeout(function onTimeout() {
      if (item._onTimeout)
        item._onTimeout();
    }, msecs);
  }
};

// That's not how node.js implements it but the exposed api is the same.
exports.setImmediate = typeof setImmediate === "function" ? setImmediate : function(fn) {
  var id = nextImmediateId++;
  var args = arguments.length < 2 ? false : slice.call(arguments, 1);

  immediateIds[id] = true;

  nextTick(function onNextTick() {
    if (immediateIds[id]) {
      // fn.call() is faster so we optimize for the common use-case
      // @see http://jsperf.com/call-apply-segu
      if (args) {
        fn.apply(null, args);
      } else {
        fn.call(null);
      }
      // Prevent ids from leaking
      exports.clearImmediate(id);
    }
  });

  return id;
};

exports.clearImmediate = typeof clearImmediate === "function" ? clearImmediate : function(id) {
  delete immediateIds[id];
};
}).call(this)}).call(this,require("timers").setImmediate,require("timers").clearImmediate)
},{"process/browser.js":50,"timers":53}],54:[function(require,module,exports){
module.exports={
	"apiPath": "/teamchatapi/"
}

},{}]},{},[15]);
